---
layout: post
title:  Kubernetes-04-kubectl
date:   2018-08-10 14:00:00 +0800
categories: 技术文档
tag: Kubernetes
---

* content
{:toc}


什么是Kubectl
==============

kubectl用于运行Kubernetes集群命令的管理工具。

安装Kubectl
==============

> 需要翻墙！需要翻墙！需要翻墙！重要的事情说三遍！

macos
--------------

使用[brew](https://brew.sh/)安装

{% highlight bash %}
brew install kubernetes-cli
{% endhighlight %}

linux(centos)
--------------

{% highlight bash %}
cat <<EOF > /etc/yum.repos.d/kubernetes.repo
[kubernetes]
name=Kubernetes
baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64
enabled=1
gpgcheck=1
repo_gpgcheck=1
gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg
EOF
yum install -y kubectl
{% endhighlight %}

更多安装方式参考官网[Install and Set Up kubectl](https://kubernetes.io/docs/tasks/tools/install-kubectl/)


kube config配置
==============

有三种方式可以做kube config的配置。

+ 修改~/.kube/config文件

{% highlight bash %}
[root@localhost root]#mkdir ~/.kube
[root@localhost root]touch ~/.kube/config
#将kube config文件内容写入此文件
[root@localhost root]vi ~/.kube/config
#验证kube config是否生效
[root@localhost root]kubectl version
{% endhighlight %}

+ 在命令中指定kubeconfig

{% highlight bash %}
#配置kube config并验证kube config是否生效
[root@localhost root]kubectl version --kubeconfig="/root/kube_config"
{% endhighlight %}

+ 设置 KUBECONFIG 环境变量

{% highlight bash %}
[root@localhost root]export  KUBECONFIG=$KUBECONFIG:/root/kube_config
#验证kube config是否生效
[root@localhost root]kubectl version
{% endhighlight %}


常用命令
==============

Kubernetes kubectl 概述 : [http://docs.kubernetes.org.cn/61.html](http://docs.kubernetes.org.cn/61.html)
Overview of kubectl : [https://kubernetes.io/docs/reference/kubectl/kubectl/](https://kubernetes.io/docs/reference/kubectl/kubectl/)
Install and Set Up kubectl : [https://kubernetes.io/docs/tasks/tools/install-kubectl/](https://kubernetes.io/docs/tasks/tools/install-kubectl/)